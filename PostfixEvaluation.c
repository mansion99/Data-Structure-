#include<stdio.h>
typedefenumprecedence
{lparen,rparen,plus,minus,multiply,divide,mod,eos,operand}precedence;
charexpr[100];
intstack[100];
inttop=-1;
precedencegetToken(char*symbol,int*n)
{
*symbol=expr[(*n)++];
switch(*symbol)
{
case'(':returnlparen;
case')':returnrparen;
case'+':returnplus;
case'-':returnminus;
case'*':returnmultiply;
case'/':returndivide;
case'%':returnmod;
case'':returneos;
case'\0':returneos;
default:returnoperand;
}
}
voidpush(inttoken)
{
stack[++top]=token;
}
intpop()
{
returnstack[top--];
}
inteval(void)
{
precedencetoken;
charsymbol;
intop1,op2;
intn=0;
token=getToken(&symbol,&n);
while(token!=eos)
{
if(token==operand)

{
push(symbol-'0');
}
else
{
op2=pop();
op1=pop();
switch(token)
{
caselparen:break;
caserparen:break;
caseplus:push(op1+op2);
break;
caseminus:push(op1-op2);
break;
casemultiply:push(op1*op2);
break;
casedivide:push(op1/op2);
break;
casemod:push(op1%op2);
break;

caseeos:break;
caseoperand:break;
}
}
token=getToken(&symbol,&n);
}
returnpop();
}
intmain()
{
printf("Enterexpression:");
scanf("%s",expr);
printf("Result:%d",eval());
}
